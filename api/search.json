[{"id":"14481fc6a214971b0e61858be70bd50e","title":"24年通过Telnet获取电信天翼网关超管密码-HS8145C5","content":"1 前言家里用的是中国电信诈骗的网自然也是用它的光猫 型号版本为HS8145C5 V5.19.C20S050之前超管的密码一直都是默认的nE7jA%5m，结果24年开年没多久突然想登超管后台看一下日志排查问题，结果发现被下发配置了，密码被改了（我TM谢谢你中国电信）于是踏上了get password的旅程😅网上的方法有很多，比如经典的F12大法，以及BurpSuite抓改包USB欺骗大法，但毕竟是BUG，BUG就TM的活不久，基本上都被Fixed了(不过天灾(BUG)是天灾，人祸就是另一回事了，那么我们的入手点就来到了亲爱的Dev留下的BackDoor(Telnet)上了喵😋接下来我们将通过Huawei内部工具通过Telnet获取超管密码。\n2 准备工作2.1 系统准备以Win11为例:依此打开设置-&gt;系统-&gt;可选功能-&gt;(相关设置)更多Windows功能\n分别启用Telnet 客户端 和 TFTP 客户端，如下图\n2.2 软件准备2.2.1 华为ONT相关工具原链(百度网盘)  提取码:brpa 感谢相随666大佬的整理 存档下载图下俩个即可:    \n2.2.2 Tftpd64访问phjounin &#x2F; tftpd64 &#x2F; wiki &#x2F; Download Tftpd64 — Bitbucket根据需要下载x64或x86版本，当然也可以使用上面百度网盘给出的版本下载完以上的软件后我们运行Tftpd第一项填待会文件保存的位置第二项选择自己连接光猫的网卡下方选择Tftp Server然后保持在后台不要关闭喵\n3 开启Telnet3.1 连接光猫电脑连接光猫，中间可以过交换机，路由器没试过不知道行不行拔掉光猫的光纤!拔掉光猫的光纤!拔掉光猫的光纤!，其他网线包括IPTV，还有电话线，确保只剩下连接电脑的那根线\n3.2 查看光猫版本查看光猫版本，浏览器打开光猫管理界面如192.168.1.1:8080输入光猫后面的密码进入有限的设置界面查看版本 如图为V5.19.C20S050 则光猫版本为V5    \n\n\n\n\n\n\n提示\n不要看光猫外壳上面写着3.0，4.0什么的，以上面获取的版本为准(踩坑😭)\n\n3.3 重启前准备回到电脑 win+r键 输入 cmd 打开命令提示符 输入 ping -t 192.168.1.1(根据你光猫的IP填写，用于待会判断光猫什么时候重启完成)回车后可以看到在不停的ping路由器\n打开华为ONT工具根据刚刚获取到的版本选择使能模式，网卡选择连接光猫的网卡\n3.4 重启光猫接下来重启光猫，此时 命令提示符 那边会报 连接超时 \n3.5 开启Telnet等到 命令提示符 那边重新能ping到光猫后表明光猫重启完成，此时按下 ONT工具 中的 启动 开始开启光猫的 Telnet \n等到出现下图 设备列表 显示Success则开启成功，此时光猫指示灯长亮\n\n\n\n\n\n\n提示\n如果一次不成功多试几次，重启一次可以进行2~3次\n\n3.6 再次重启接着再重启光猫，等待光猫重启完成\n4 通过Telnet连接光猫并获取权限4.1 Telnet连接光猫运行cmd或PowerShell，这里以Windows终端(PowerShell)为例\n输入 telnet 你光猫IP(如192.168.1.1) 连接光猫连接成功后显示\ntxtWelcome Visiting Huawei Home Gateway\nCopyright by Huawei Technologies Co., Ltd.\n\nLogin:\n4.2 登录光猫Login即输入用户名这里输入root接下来会要求输入Password输入admin或adminHW\n\n\n\n\n\n\n提示\n有些终端不一定显示你输入的密码，不用担心不是没输到啊喂(\n\n\n输入密码后显示\ntxtWelcome Visiting Huawei Home Gateway\nCopyright by Huawei Technologies Co., Ltd.\n\nLogin:root\nPassword:\nWAP&gt;恭喜你已经进入光猫的终端，不过仅仅这样是不够的，我们还要进行提权操作😋\n4.3 提权&amp;进入shell输入 su 进行提权提示 success! 后进入SU_WAP权限，接下来进行补全shell\n输入 shell 显示\ntxtBusyBox v1.26.2 () built-in shell (ash)\nEnter &#39;help&#39; for a list of built-in commands.\n\nprofile close core dump\nWAP(Dopra Linux) #\n可以看到是基于Dopra Linux开发的，实际上到这一步我们就可以对光猫为所欲为了 先来个rm -rf &#x2F;* (你可别真去试啊😨)\n\n\n\n\n\n\n\n特别注意\n目前你已经拿到root权限这意味着接下来你 必须 小心谨慎操作数据无价，失手成砖你已经被警告过了!\n\n5 通过Telnet&amp;Tftp64获取光猫配置文件5.1 进入目标文件夹输入 cd /mnt/jffs2进入光猫配置存放文件夹如果报错先 cd /mnt 进入mnt文件夹再输入 ls 查看当前目录下的文件夹与文件查找类似于jffs2的文件夹，cd  文件夹名称进去\n进去后hw_ctree.xml就是我们要的文件😋\n5.2 下载配置文件输入tftp -p -l hw_ctree.xml 你电脑的ip(如192.168.1.26)将hw_ctree.xml通过Tftp传输到电脑上打开之前Tftp你设置的文件夹，发现hw_ctree.xml已经下载到电脑上了直接打开会发现被加密成了二进制文件，强制打开也是乱码，我们需要对其解密    \n5.3 解密xml配置打开由 欲断魂 大佬制作的解密工具，选择刚刚下载下来的文件，点击解密\n5.4 获取telecomadmin密码打开解密后的hw_ctree.xml搜索telecomadmin可以看到后面跟着的Password，不过该密码依旧是加密的😅\n5.5 解密密码复制后面的密文丢到解密软件内，根据密文开头选择解密方式\n解密得@!2^WzC2\n6 登录测试&amp;善后用刚刚的密码进行测试成功登录😋\n插上光纤、其他网线、IPTV和电话线重启光猫可以在安全-ONT访问控制配置关闭Telnet\n尾声这次只是涉及获取密码所以只是下载配置，如果需要进行修改则需要将配置文件通过Tftp重新上传到光猫并用cp命令进行复制替换，具体操作可以去google or bing一下\n题外话:最近老师那边丢过来一个竞赛刚好最近正在写的一个项目符合要求不过要改一下项目名称带Fuck可不行😋(\n","slug":"24年通过Telnet获取电信天翼网关超管密码-HS8145C5","date":"2024-02-06T04:40:00.000Z","categories_index":"","tags_index":"网络,硬件,光猫","author_index":"志成zhi_cheng"},{"id":"9e52d5ecde0b97eabbbe3031c94c0579","title":"如何获取升学E网通的cookie","content":"准备工作1.非国产浏览器,如微软的Edge（推荐！！）谷歌的Google Chrome 和火狐2.脑子和手3.5分钟的时间\nPS：别再用如360安全&#x2F;极速浏览器、QQ浏览器、2345浏览器等国产浏览器了，这些东西纯属来恶心人。用了上面几个浏览器后你就知道了doge\n\n开始教程1.打开升学E网通并登录\n2.登录后在任意界面按下键盘上的F12键打开开发者工具（国产浏览器都没这东西）\n\nEdge浏览器操作（Google Chrome的在下面）3.点击+号\n4.点击 应用程序\n5.在储存中找到 Cookie 并展开\n6.找到 ewt_user 和 user 两项并在下方（Cookie Value框）复制其中的值\n恭喜你已经获取到API需要的cookie了\nGoogle Chrome教程3.F12打开开发者工具后迎面来的就是一堆英文（如果已经是中文当我没说），不要慌！点击上方切换成中文\n4.点击 应用\n5.接下来的操作就和Edge的5、6步一样啦~\n关于安全性问：这玩意需要我的cookie会造成盗号吗？答：不会，账号的登录状态信息是记录在cookie的 token（令牌） 项上的（大部分网站也是如此）我们只需要cookie中 ewt_user 和 user 两项 您可尝试删除除了 ewt_user 和 user 的所有cookie或只删掉 ewt_user 和 user 刷新界面来查看登录状态.\n","slug":"how-to-get-ewt-cookie","date":"2022-08-07T13:52:51.000Z","categories_index":"教程,软件","tags_index":"教程","author_index":"志成zhi_cheng"}]